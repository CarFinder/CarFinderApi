sudo: enabled
language: node_js
node_js:
  - "8"
before_install:
  - yarn global add typescript tslint
cache: yarn
install:
  - yarn
script:
  - tslint ./src/**/*.ts
  - yarn test:coverage
before_deploy: 
  run: "tsc"
deploy:
  provider: heroku
  api_key: {{HEROKU_API_KEY}}
  app: carfinderapp
  run: "node dist/src/index.ts"
