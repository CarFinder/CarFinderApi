sudo: enabled
language: node_js
node_js:
  - "8"
before_install:
  - yarn global add typescript tslint
cache: yarn
install:
  - yarn
script:
  - tslint ./src/**/*.ts
  - yarn test:coverage
deploy:
  provider: heroku
  api_key: 62a91ab1-fcf2-4c23-82b0-f075a3e6e1c6
  app: carfinderapp
  run: ./node_modules/.bin/tsc && node dist/src/index.js
  on:
    repo: CarFinder/CarFinderApi
    branch: auto-deploy
